---

gitlab_target:
  hosts:
    local-gitlab18:
      ansible_ssh_port: 22
      gitlab_location: local
      gitlab_image: 'gitlab/gitlab-ce:8.3.0-ce.0'
      gitlab_ssh_port_mapping: "1822:22"

  vars:
    gitlab_install_base_path: "{{ ansible_user_dir | default(lookup('env', 'HOME')) }}"
    ansible_user: "{{ lookup('env', 'USER') | default('vince') }}"
    ansible_ssh_private_key_file: /home/vince/.ssh/id_rsa
    gitlab_instance_fqdn: "{{ inventory_hostname }}.me"
    # gitlab_instance_fqdn: gitlab-1.me
    gitlab_registry: "registry.{{ gitlab_instance_fqdn }}"
    gitlab_instance_name: "{{ gitlab_instance_fqdn.split('.')[0] }}"
    gitlab_install_path: "{{ gitlab_install_base_path }}/{{ gitlab_instance_name }}"
    gitlab_runner_install_path: "{{ gitlab_install_base_path }}/{{ gitlab_instance_name }}_runner"
    gitlab_api_url: http://{{ gitlab_instance_fqdn }}/api/v4
    git_project_name: "install_{{ gitlab_instance_name }}_demo"